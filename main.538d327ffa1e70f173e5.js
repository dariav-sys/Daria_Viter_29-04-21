(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"4Yv0":function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,l,o){var a,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c="function",u=e.escapeExpression,s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="poster-box">\r\n    <img class="poster" src='+u(typeof(a=null!=(a=s(t,"img")||(null!=n?s(n,"img"):n))?a:i)===c?a.call(r,{name:"img",hash:{},data:o,loc:{start:{line:2,column:28},end:{line:2,column:35}}}):a)+" alt="+u(typeof(a=null!=(a=s(t,"name")||(null!=n?s(n,"name"):n))?a:i)===c?a.call(r,{name:"name",hash:{},data:o,loc:{start:{line:2,column:40},end:{line:2,column:48}}}):a)+'>\r\n    <div class="movie-info">\r\n        <p class="film-title">'+u(typeof(a=null!=(a=s(t,"name")||(null!=n?s(n,"name"):n))?a:i)===c?a.call(r,{name:"name",hash:{},data:o,loc:{start:{line:4,column:30},end:{line:4,column:38}}}):a)+"</p>\r\n        <p>"+u(typeof(a=null!=(a=s(t,"year")||(null!=n?s(n,"year"):n))?a:i)===c?a.call(r,{name:"year",hash:{},data:o,loc:{start:{line:5,column:11},end:{line:5,column:19}}}):a)+'</p>\r\n        <p class="film-about-text"> '+u(typeof(a=null!=(a=s(t,"description")||(null!=n?s(n,"description"):n))?a:i)===c?a.call(r,{name:"description",hash:{},data:o,loc:{start:{line:6,column:36},end:{line:6,column:51}}}):a)+' </p>\r\n        <button class="modal-close-button"></button>        \r\n        <button class="star-icon-modal"></button>\r\n        <div class="genres">\r\n            <p>Genres: '+u(typeof(a=null!=(a=s(t,"genres")||(null!=n?s(n,"genres"):n))?a:i)===c?a.call(r,{name:"genres",hash:{},data:o,loc:{start:{line:10,column:23},end:{line:10,column:33}}}):a)+"</p>\r\n            <p>Director: "+u(typeof(a=null!=(a=s(t,"director")||(null!=n?s(n,"director"):n))?a:i)===c?a.call(r,{name:"director",hash:{},data:o,loc:{start:{line:11,column:25},end:{line:11,column:37}}}):a)+"</p>\r\n            <p>Starring: "+u(typeof(a=null!=(a=s(t,"starring")||(null!=n?s(n,"starring"):n))?a:i)===c?a.call(r,{name:"starring",hash:{},data:o,loc:{start:{line:12,column:25},end:{line:12,column:37}}}):a)+"</p>\r\n        </div>\r\n    </div>\r\n\r\n</div>"},useData:!0})},L1EO:function(e,n,t){},QfWi:function(e,n,t){"use strict";t.r(n);t("L1EO"),t("RtS0"),t("JBxO"),t("FdtR"),t("3dw1");var l=t("4Yv0"),o=t.n(l),a=t("Wdqw"),r=t.n(a);t("IlJM"),t("uQK7"),t("Xlt+");function i(e){var n=JSON.parse(localStorage.getItem("favourites"));return!!n&&n.find((function(n){return n.id===e.id}))}function c(e){if(!i(e)){var n=JSON.parse(localStorage.getItem("favourites"));n||(n=[]),n.push(e),localStorage.setItem("favourites",JSON.stringify(n))}}function u(e){var n=JSON.parse(localStorage.getItem("favourites"));n||(n=[]),n.forEach((function(t){t.id===e.id&&n.splice(n.indexOf(t),1)})),localStorage.setItem("favourites",JSON.stringify(n))}var s={gallery:document.querySelector(".movie-gallery-list"),modalContent:document.querySelector(".modal-content"),overlay:document.querySelector(".modal-overlay"),modalWindow:document.querySelector(".modal"),modalFavBtn:document.querySelector(".star-icon-modal"),closeModalBtn:document.querySelector(".modal-close-button"),favSection:document.querySelector(".section-fav"),favMovies:document.querySelectorAll(".movie-name"),allMovies:document.querySelectorAll(".movie-gallery-item")},d=t("QtKI"),m=t.n(d);function f(){var e=JSON.parse(localStorage.getItem("favourites"));e||(e=[]),s.favSection.innerHTML="",s.favSection.insertAdjacentHTML("beforeend","<h1>FAVOURITES</h1>"),e.forEach((function(e){!function(e){var n=m()(e);s.favSection.insertAdjacentHTML("beforeend",n);var t=document.querySelectorAll(".movie-name");if(t.length){t[t.length-1].addEventListener("click",(function(){v(e.id)}))}var l=document.querySelectorAll(".delete-movie-btn");if(l.length){l[l.length-1].addEventListener("click",function(e){return function(){var n=JSON.parse(localStorage.getItem("favourites"));n.forEach((function(t){t.id===e.id&&n.splice(n.indexOf(t),1)})),localStorage.setItem("favourites",JSON.stringify(n)),document.querySelectorAll(".movie-gallery-item").forEach((function(n){parseInt(n.dataset.id)===e.id&&(n.querySelector(".star-icon").style.backgroundColor="transparent")})),this.parentNode.parentNode.removeChild(this.parentNode)}}(e))}}(e)}))}function p(e,n){document.querySelectorAll(".movie-gallery-item").forEach((function(t){parseInt(t.dataset.id)===e.id&&(t.querySelector(".star-icon").style.backgroundColor=n?"orange":"transparent")}))}function v(e){return fetch("https://my-json-server.typicode.com/moviedb-tech/movies/list/"+e).then((function(e){return e.json()})).then((function(e){!function(e){s.modalWindow.classList.remove("is-hidden");var n=[];e.genres.forEach((function(e){n.push(" "+e)})),e.genres=n;var t=o()(e);s.modalContent.insertAdjacentHTML("beforeend",t),document.querySelector(".modal-close-button").addEventListener("click",y),window.addEventListener("keydown",h)}(e);var n=document.querySelector(".star-icon-modal");i(e)&&(n.style.backgroundColor="orange"),n.addEventListener("click",function(e){return function(){i(e)?(u(e),this.style.backgroundColor="transparent",p(e,!1)):(c(e),this.style.backgroundColor="orange",p(e,!0)),f()}}(e))})).catch((function(e){return console.log(e)}))}function y(){window.removeEventListener("keydown",h),s.modalWindow.classList.add("is-hidden"),s.modalContent.innerHTML=""}function h(e){"Escape"===e.code&&y()}fetch("https://my-json-server.typicode.com/moviedb-tech/movies/list").then((function(e){return e.json()})).then((function(e){return function(e){e.forEach((function(e){var n=r()(e);s.gallery.insertAdjacentHTML("beforeend",n);var t=document.querySelectorAll(".star-icon");if(t.length){var l=t[t.length-1];l.addEventListener("click",function(e){return function(){i(e)?(u(e),this.style.backgroundColor="transparent"):(c(e),this.style.backgroundColor="orange"),f()}}(e)),i(e)&&(l.style.backgroundColor="orange",f())}}))}(e)})).catch((function(e){return console.log(e)})),s.gallery.addEventListener("click",(function(e){if("IMG"!==e.target.nodeName)return;v(e.target.dataset.id)})),s.overlay.addEventListener("click",(function(e){e.target===e.currentTarget&&y()}))},QtKI:function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,l,o){var a,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="fav-movie">\r\n        <p class="movie-name" data-id='+c("function"==typeof(a=null!=(a=u(t,"id")||(null!=n?u(n,"id"):n))?a:i)?a.call(r,{name:"id",hash:{},data:o,loc:{start:{line:2,column:38},end:{line:2,column:44}}}):a)+">"+c("function"==typeof(a=null!=(a=u(t,"name")||(null!=n?u(n,"name"):n))?a:i)?a.call(r,{name:"name",hash:{},data:o,loc:{start:{line:2,column:45},end:{line:2,column:53}}}):a)+'</p>\r\n        <span class="delete-movie-btn">X</span>\r\n</li>'},useData:!0})},Wdqw:function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,l,o){var a,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c="function",u=e.escapeExpression,s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="movie-gallery-item" data-id="'+u(typeof(a=null!=(a=s(t,"id")||(null!=n?s(n,"id"):n))?a:i)===c?a.call(r,{name:"id",hash:{},data:o,loc:{start:{line:1,column:40},end:{line:1,column:46}}}):a)+'">\r\n    <img src="'+u(typeof(a=null!=(a=s(t,"img")||(null!=n?s(n,"img"):n))?a:i)===c?a.call(r,{name:"img",hash:{},data:o,loc:{start:{line:2,column:14},end:{line:2,column:21}}}):a)+'" alt="'+u(typeof(a=null!=(a=s(t,"name")||(null!=n?s(n,"name"):n))?a:i)===c?a.call(r,{name:"name",hash:{},data:o,loc:{start:{line:2,column:28},end:{line:2,column:36}}}):a)+'"\r\n        class="movie-gallery-cover" data-id="'+u(typeof(a=null!=(a=s(t,"id")||(null!=n?s(n,"id"):n))?a:i)===c?a.call(r,{name:"id",hash:{},data:o,loc:{start:{line:3,column:45},end:{line:3,column:51}}}):a)+'" >\r\n    \r\n    <p class="movie-gallery-title">'+u(typeof(a=null!=(a=s(t,"name")||(null!=n?s(n,"name"):n))?a:i)===c?a.call(r,{name:"name",hash:{},data:o,loc:{start:{line:5,column:35},end:{line:5,column:43}}}):a)+'</p>\r\n    <button type="button" class="star-icon"></button type="button">\r\n    <p class="movie-gallery-title">'+u(typeof(a=null!=(a=s(t,"year")||(null!=n?s(n,"year"):n))?a:i)===c?a.call(r,{name:"year",hash:{},data:o,loc:{start:{line:7,column:35},end:{line:7,column:43}}}):a)+"</p>\r\n\r\n\r\n</li>\r\n"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.538d327ffa1e70f173e5.js.map